<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <!-- Mantenha seu head atual -->
</head>
<body>
    <div id="lobby">
        <div id="create-section">
            <h2>Criar Sala</h2>
            <button id="createRoom">Criar Sala</button>
        </div>
        <div id="join-section" style="display:none;">
            <h2>Entrar em Sala</h2>
            <input type="text" id="roomId" placeholder="Código da Sala">
            <button id="joinRoom">Entrar</button>
            <p id="error-msg" style="color:red;"></p>
        </div>
        <div id="room-info" style="display:none;">
            <h3>Sala: <span id="room-code"></span></h3>
            <p>Jogadores: <span id="players-count">1/4</span></p>
            <div id="players-list"></div>
        </div>
    </div>

    <div id="game-container" style="display:none;">
        <!-- Seu jogo atual aqui -->
    </div>

    <!-- Adicione Socket.io -->
    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
    <script>
        // Conexão com o servidor WebSocket (substitua pela sua URL)
        const socket = io('https://seu-servidor.onrender.com');
        let roomId = '';
        let playerId = Math.random().toString(36).substring(2, 9);

        // Cria sala
        document.getElementById('createRoom').addEventListener('click', () => {
            roomId = Math.random().toString(36).substring(2, 6).toUpperCase();
            socket.emit('create-room', { roomId, playerId });
            document.getElementById('room-code').textContent = roomId;
            document.getElementById('create-section').style.display = 'none';
            document.getElementById('room-info').style.display = 'block';
        });

        // Entra em sala
        document.getElementById('joinRoom').addEventListener('click', () => {
            roomId = document.getElementById('roomId').value.trim().toUpperCase();
            if (roomId.length !== 4) {
                document.getElementById('error-msg').textContent = 'O código deve ter 4 caracteres!';
                return;
            }
            socket.emit('join-room', { roomId, playerId });
        });

        // Ouvinte de eventos do servidor
        socket.on('room-created', (data) => {
            console.log('Sala criada:', data.roomId);
        });

        socket.on('player-joined', (data) => {
            document.getElementById('players-count').textContent = `${data.players.length}/4`;
            // Atualiza lista de jogadores...
        });

        socket.on('game-started', () => {
            document.getElementById('lobby').style.display = 'none';
            document.getElementById('game-container').style.display = 'block';
            // Inicia o jogo...
        });

        socket.on('error', (msg) => {
            document.getElementById('error-msg').textContent = msg;
        });
    </script>
</body>
</html>
